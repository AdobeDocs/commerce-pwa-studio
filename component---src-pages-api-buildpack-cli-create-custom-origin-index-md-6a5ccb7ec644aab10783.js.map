{"version":3,"file":"component---src-pages-api-buildpack-cli-create-custom-origin-index-md-6a5ccb7ec644aab10783.js","mappings":"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","sources":["webpack://commerce-pwa-studio/./src/pages/api/buildpack/cli/create-custom-origin/index.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport DefaultLayout from \"/home/runner/work/commerce-pwa-studio/commerce-pwa-studio/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\nconst InlineAlert = makeShortcode(\"InlineAlert\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"create-custom-origin\"\n    }}>{`Create custom origin`}</h1>\n    <p>{`The `}<inlineCode parentName=\"p\">{`create-custom-origin`}</inlineCode>{` is a `}<a parentName=\"p\" {...{\n        \"href\": \"/commerce-pwa-studio/api/buildpack/cli/\"\n      }}><inlineCode parentName=\"a\">{`buildpack`}</inlineCode></a>{` CLI subcommand which creates a unique local hostname and trusted SSL certificate for your project.`}</p>\n    <h2 {...{\n      \"id\": \"example\"\n    }}>{`Example`}</h2>\n    <p>{`Usage example with `}<inlineCode parentName=\"p\">{`npx`}</inlineCode>{`:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-sh\"\n      }}>{`npx @magento/pwa-buildpack create-custom-origin <dir>\n`}</code></pre>\n    <p>{`This feature requires administrative access, so it may prompt you for an administrative password at the command line.\nIt does not permanently elevate permissions for the dev process, but instead, it launches a privileged subprocess to execute one command.`}</p>\n    <InlineAlert variant=\"warning\" slots=\"text\" mdxType=\"InlineAlert\" />\n    <p>{`This command should be used only in a development environment and never as part of a production deployment process.`}</p>\n    <h2 {...{\n      \"id\": \"benefits-of-a-custom-origin\"\n    }}>{`Benefits of a custom origin`}</h2>\n    <p>{`Developing a storefront with a custom origin provides the following benefits:`}</p>\n    <h3 {...{\n      \"id\": \"enables-https\"\n    }}>{`Enables HTTPS`}</h3>\n    <p>{`Some PWA features, such as ServiceWorkers and Push Notifications, are only available on HTTPS secure domains.\nSome browsers make exceptions for the domain `}<inlineCode parentName=\"p\">{`localhost`}</inlineCode>{`, but this is non-standard.`}</p>\n    <p>{`HTTPS development is becoming the norm, but\ncreating a self-signed certificate and configuring your server and browser to support this is a complex process.`}</p>\n    <p>{`The `}<inlineCode parentName=\"p\">{`create-custom-origin`}</inlineCode>{` command automates this process reliably on most operating systems.\nIt uses `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/davewasmer/devcert\"\n      }}>{`devcert`}</a>{` to edit your local hostfile, create and manage certificates, and try to configure web browsers to \"trust\" the certificate.\nThis prevents security errors from showing up in browsers.`}</p>\n    <p>{`In the future, browsers will require trust, as well as SSL itself, to enable some features.`}</p>\n    <InlineAlert variant=\"info\" slots=\"text\" mdxType=\"InlineAlert\" />\n    <p>{`PWADevServer uses OpenSSL to generate these certificates; your operating system must have an `}<inlineCode parentName=\"p\">{`openssl`}</inlineCode>{` command of version 1.0 or above to use this feature.`}</p>\n    <h3 {...{\n      \"id\": \"unique-domains-prevent-serviceworker-collisions\"\n    }}>{`Unique domains prevent ServiceWorker collisions`}</h3>\n    <p>{`PWA features, such as ServiceWorkers, use the concept of a 'scope' to separate installed ServiceWorkers from each other.\nA scope is a combination of a domain name, port, and path.\nIf you use `}<inlineCode parentName=\"p\">{`localhost`}</inlineCode>{` for developing multiple PWAs, you run the risk of Service Workers overriding or colliding with each other.`}</p>\n    <h2 {...{\n      \"id\": \"customization\"\n    }}>{`Customization`}</h2>\n    <p>{`Use environment variables in the `}<inlineCode parentName=\"p\">{`CUSTOM_ORIGIN_`}</inlineCode>{` namespace to change the behavior of the `}<inlineCode parentName=\"p\">{`create-custom-origin`}</inlineCode>{` command.`}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Environment Variable Name`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Default Value`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Description`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`CUSTOM_ORIGIN_ENABLED`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`true`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Enable the custom origin feature`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`CUSTOM_ORIGIN_ADD_UNIQUE_HASH`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`true`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Add a unique hash string to the custom origin.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`CUSTOM_ORIGIN_SUBDOMAIN`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Allows you to manually specify the subdomain prefix of the custom origin instead of using the package name.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`CUSTOM_ORIGIN_EXACT_DOMAIN`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Allows you to specify the `}<em parentName=\"td\">{`exact`}</em>{` domain of the custom origin instead of a subdomain under `}<inlineCode parentName=\"td\">{`.local.pwadev`}</inlineCode>{`.`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <p>{`Set these variables permanently in your `}<inlineCode parentName=\"p\">{`.env`}</inlineCode>{` file, or argue them at the command line for overrides:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-sh\"\n      }}>{`CUSTOM_ORIGIN_EXACT_DOMAIN=\"my.pwa\" \\\\\nnpx @magento/pwa-buildpack create-custom-origin .\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"unique-hash\"\n    }}>{`Unique hash`}</h3>\n    <p>{`If `}<inlineCode parentName=\"p\">{`CUSTOM_ORIGIN_ADD_UNIQUE_HASH`}</inlineCode>{` is set to `}<inlineCode parentName=\"p\">{`true`}</inlineCode>{`, the `}<inlineCode parentName=\"p\">{`create-custom-origin`}</inlineCode>{` command adds a unique hash string to the custom origin.\nThis string is based on the filesystem location.`}</p>\n    <p>{`This naturally separates domains when running multiple project folders on one developer machine.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["_frontmatter","InlineAlert","name","props","console","warn","mdx","layoutProps","MDXLayout","DefaultLayout","MDXContent","_ref","components","_objectWithoutProperties","_excluded","_extends","mdxType","parentName","variant","slots","isMDXComponent"],"sourceRoot":""}
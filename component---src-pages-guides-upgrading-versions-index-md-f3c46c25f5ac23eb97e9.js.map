{"version":3,"file":"component---src-pages-guides-upgrading-versions-index-md-f3c46c25f5ac23eb97e9.js","mappings":"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","sources":["webpack://commerce-pwa-studio/./src/pages/guides/upgrading-versions/index.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport DefaultLayout from \"/home/runner/work/commerce-pwa-studio/commerce-pwa-studio/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"upgrading-versions\"\n    }}>{`Upgrading versions`}</h1>\n    <p>{`Upgrading to the latest PWA Studio version gives your project access to the new features, bugfixes, and improvements associated with that release.\nThis topic provides general guidance and best practices for upgrading your storefront project to use the newest PWA Studio release.`}</p>\n    <h2 {...{\n      \"id\": \"prerequisites\"\n    }}>{`Prerequisites`}</h2>\n    <p>{`The contents of this topic applies to storefront projects setup according to the `}<a parentName=\"p\" {...{\n        \"href\": \"../../tutorials/setup-storefront/index.md\"\n      }}>{`Setup your project`}</a>{` tutorial.\nThese projects use the `}<inlineCode parentName=\"p\">{`venia-concept`}</inlineCode>{` package as a template to set up the directory structure and project dependencies.\nThis is the recommended setup for new projects because it makes version upgrades easier.`}</p>\n    <h2 {...{\n      \"id\": \"update-dependencies\"\n    }}>{`Update dependencies`}</h2>\n    <p>{`The main updates you need to make in your storefront project are the dependency versions in your `}<inlineCode parentName=\"p\">{`package.json`}</inlineCode>{` file.\nPWA Studio packages are independently versioned, which means their versions may not be the same as the main PWA Studio release version.`}</p>\n    <p>{`If your project uses `}<inlineCode parentName=\"p\">{`yarn`}</inlineCode>{`, you can call `}<inlineCode parentName=\"p\">{`yarn add`}</inlineCode>{` on each of the `}<inlineCode parentName=\"p\">{`@magento`}</inlineCode>{` packages.\nThis automatically updates the `}<inlineCode parentName=\"p\">{`package.json`}</inlineCode>{` file in your project and install the latest versions.`}</p>\n    <p>{`Sample command:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-sh\"\n      }}>{`yarn add @magento/eslint-config @magento/pagebuilder @magento/peregrine @magento/pwa-buildpack @magento/upward-js @magento/venia-ui\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"manual-updates\"\n    }}>{`Manual updates`}</h3>\n    <p>{`If your project uses `}<inlineCode parentName=\"p\">{`npm`}</inlineCode>{`, you can still manually edit the `}<inlineCode parentName=\"p\">{`package.json`}</inlineCode>{` file with the latest published version.\nCompare the contents of your project's `}<inlineCode parentName=\"p\">{`package.json`}</inlineCode>{` file with the one in `}<inlineCode parentName=\"p\">{`venia-concept`}</inlineCode>{` to see the latest published versions.`}</p>\n    <p>{`You can find the latest package versions by opening the `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/magento/pwa-studio/blob/develop/packages/venia-concept/package.json\"\n      }}>{`template project's `}<inlineCode parentName=\"a\">{`package.json`}</inlineCode>{` file`}</a>{` in GitHub and using the version switcher to view the latest release version under the `}<strong parentName=\"p\">{`Tags`}</strong>{` tab.\nFor example, the `}<inlineCode parentName=\"p\">{`package.json`}</inlineCode>{` file for the `}<strong parentName=\"p\">{`v10.0.0`}</strong>{` release is at:`}</p>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"https://github.com/magento/pwa-studio/blob/v10.0.0/packages/venia-concept/package.json\"\n      }}>{`https://github.com/magento/pwa-studio/blob/v10.0.0/packages/venia-concept/package.json`}</a></p>\n    <p><span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"550px\"\n        }\n      }}>{`\n      `}<span parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-background-image\",\n          \"style\": {\n            \"paddingBottom\": \"98.125%\",\n            \"position\": \"relative\",\n            \"bottom\": \"0\",\n            \"left\": \"0\",\n            \"display\": \"block\",\n            \"transition\": \"opacity 0.5s 0.5s\",\n            \"pointerEvents\": \"none\"\n          }\n        }}></span>{`\n  `}<picture parentName=\"span\">{`\n          `}<source parentName=\"picture\" {...{\n            \"srcSet\": [\"/commerce-pwa-studio/static/c3e807aea34f07844506b3b6d0174f6c/5530d/switch-versions.webp 320w\", \"/commerce-pwa-studio/static/c3e807aea34f07844506b3b6d0174f6c/7df4b/switch-versions.webp 550w\"],\n            \"sizes\": \"(max-width: 550px) 100vw, 550px\",\n            \"type\": \"image/webp\"\n          }}></source>{`\n          `}<source parentName=\"picture\" {...{\n            \"srcSet\": [\"/commerce-pwa-studio/static/c3e807aea34f07844506b3b6d0174f6c/dd4a7/switch-versions.png 320w\", \"/commerce-pwa-studio/static/c3e807aea34f07844506b3b6d0174f6c/8c3ad/switch-versions.png 550w\"],\n            \"sizes\": \"(max-width: 550px) 100vw, 550px\",\n            \"type\": \"image/png\"\n          }}></source>{`\n          `}<img parentName=\"picture\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"src\": \"/commerce-pwa-studio/static/c3e807aea34f07844506b3b6d0174f6c/8c3ad/switch-versions.png\",\n            \"alt\": \"Switching versions in GitHub\",\n            \"title\": \"Switching versions in GitHub\",\n            \"loading\": \"lazy\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"opacity\": \"0\",\n              \"transition\": \"opacity 0.5s\",\n              \"color\": \"inherit\",\n              \"boxShadow\": \"inset 0px 0px 0px 400px none\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            }\n          }}></img>{`\n        `}</picture>{`\n    `}</span></p>\n    <p>{`Use the contents of this file to update the `}<inlineCode parentName=\"p\">{`@magento`}</inlineCode>{` packages listed in your project's `}<inlineCode parentName=\"p\">{`package.json`}</inlineCode>{` file.\nNext, run `}<inlineCode parentName=\"p\">{`npm install`}</inlineCode>{` to install the updated packages.`}</p>\n    <h2 {...{\n      \"id\": \"update-template-files\"\n    }}>{`Update template files`}</h2>\n    <p>{`Updating your dependencies does not update the initial template files in your project.\nYou must identify and apply these changes manually so that they do not conflict with your own changes.\nUse the instructions in the following sections to update your project's template files.`}</p>\n    <h3 {...{\n      \"id\": \"clone-pwa-studio\"\n    }}>{`Clone PWA Studio`}</h3>\n    <p>{`To compare changes between the source template and your project, you need a local clone of the PWA Studio repository.\nUse the following command to create a local clone:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-sh\"\n      }}>{`git clone git@github.com:magento/pwa-studio.git\n`}</code></pre>\n    <p>{`If you already have a copy of the repository, use the following command to update it with the latest changes:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-sh\"\n      }}>{`git fetch origin\n`}</code></pre>\n    <p>{`Next, checkout the `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/magento/pwa-studio/tags\"\n      }}>{`version tag`}</a>{` of the recent release.\nFor example, the following command checks out the state of the repository at version `}<strong parentName=\"p\">{`10.0.0`}</strong>{`:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-sh\"\n      }}>{`git checkout v10.0.0\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"identify-which-template-files-changed\"\n    }}>{`Identify which template files changed`}</h3>\n    <p>{`You can use the PWA Studio repository clone to identify which files changed between versions in the `}<inlineCode parentName=\"p\">{`venia-concept`}</inlineCode>{` template package using `}<inlineCode parentName=\"p\">{`git diff`}</inlineCode>{`.`}</p>\n    <p>{`For example:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-sh\"\n      }}>{`cd packages/venia-concept && \\\\\ngit diff --name-only --relative v9.0.1..v10.0.0 . ../\n`}</code></pre>\n    <p>{`This command navigates to the `}<inlineCode parentName=\"p\">{`venia-concept`}</inlineCode>{` package and uses the `}<inlineCode parentName=\"p\">{`git diff`}</inlineCode>{` command to list the files changed between the `}<inlineCode parentName=\"p\">{`v9.0.1`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`v10.0.0`}</inlineCode>{` version tags:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-sh\"\n      }}>{`_buildpack/__tests__/create.spec.js\n_buildpack/create.js\npackage.json\nprettier.config.js\nsrc/.storybook/preview-body.html\nsrc/.storybook/webpack.config.js\nsrc/ServiceWorker/Utilities/__tests__/imageCacheHandler.spec.js\nsrc/ServiceWorker/Utilities/imageCacheHandler.js\nsrc/ServiceWorker/setupWorkbox.js\nsrc/registerSW.js\ntemplate.html\nwebpack.config.js\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"apply-updates\"\n    }}>{`Apply updates`}</h3>\n    <p>{`How you apply updates to the template files in your project depends on whether you made changes to that file or not.\nIf you did not make any changes to your project's template file, you can safely copy over the file into your project to overwrite and update it.`}</p>\n    <p>{`If your project's template file contains any customizations, you must manually apply the updates from the new version.\nTo find the changes you need to apply, you can use the `}<inlineCode parentName=\"p\">{`git diff`}</inlineCode>{` command on individual files:`}</p>\n    <p>{`For example, the following command shows the updates you would need to make to the `}<inlineCode parentName=\"p\">{`webpack.config.js`}</inlineCode>{` file:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-sh\"\n      }}>{`git diff v9.0.1..v10.0.0 webpack.config.js\n`}</code></pre>\n    <p>{`You can also use one of the many `}<a parentName=\"p\" {...{\n        \"href\": \"https://marketplace.visualstudio.com/search?term=diff&target=VSCode&category=All%20categories&sortBy=Relevance\"\n      }}>{`diff tools in Visual Studio Code`}</a>{` or a standalone application, such as `}<a parentName=\"p\" {...{\n        \"href\": \"https://desktop.github.com/\"\n      }}>{`GitHub's desktop application`}</a>{`, to make these comparisons easier.`}</p>\n    <h2 {...{\n      \"id\": \"check-for-new-environment-variables\"\n    }}>{`Check for new environment variables`}</h2>\n    <p>{`To check for new or updated environment variables, run a diff on the `}<inlineCode parentName=\"p\">{`envVarDefinitions.json`}</inlineCode>{` file in the `}<strong parentName=\"p\">{`pwa-buildpack`}</strong>{` package.\nFor example, the following command shows the updates on that file between versions `}<inlineCode parentName=\"p\">{`v9.0.1`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`v10.0.0`}</inlineCode>{`.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-sh\"\n      }}>{`git diff v9.0.1...v10.0.0 packages/pwa-buildpack/envVarDefinitions.json\n`}</code></pre>\n    <p><strong parentName=\"p\">{`NOTE:`}</strong>{`\nIf you need to make updates to your local `}<inlineCode parentName=\"p\">{`env`}</inlineCode>{` file, you may also need to update the environment variables in your staging and production environments.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","_ref","components","props","_objectWithoutProperties","_excluded","mdx","_extends","mdxType","parentName","isMDXComponent"],"sourceRoot":""}
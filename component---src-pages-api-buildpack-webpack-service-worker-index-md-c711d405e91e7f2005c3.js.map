{"version":3,"sources":["webpack://dev-site-documentation-template/./src/pages/api/buildpack/webpack/service-worker/index.md"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"mappings":"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","file":"component---src-pages-api-buildpack-webpack-service-worker-index-md-c711d405e91e7f2005c3.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/commerce-pwa-studio/commerce-pwa-studio/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"service-worker\"\n    }}>{`Service worker`}</h1>\n    <p>{`A webpack plugin for configuring a ServiceWorker for different PWA development scenarios.\nThis plugin is a wrapper around the `}<a parentName=\"p\" {...{\n        \"href\": \"https://developers.google.com/web/tools/workbox/guides/generate-service-worker/\"\n      }}>{`Google Workbox Webpack Plugin`}</a>{`.\nIt generates a caching ServiceWorker based on assets emitted by webpack.`}</p>\n    <h2 {...{\n      \"id\": \"configurations\"\n    }}>{`Configurations`}</h2>\n    <p>{`The following configurations are available for this plugin:`}</p>\n    <ul>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`normal development`}</strong>{` - the ServiceWorker is disabled`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`service worker debugging`}</strong>{` - the ServiceWorker and hot-reloading are enabled.`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"serviceworkeroptions\"\n    }}><inlineCode parentName=\"h2\">{`ServiceWorker(options)`}</inlineCode></h2>\n    <p>{`Plugin constructor for the `}<inlineCode parentName=\"p\">{`ServiceWorkerPlugin`}</inlineCode>{` class.`}</p>\n    <h3 {...{\n      \"id\": \"parameters\"\n    }}>{`Parameters`}</h3>\n    <ul>\n      <li parentName=\"ul\"><strong parentName=\"li\"><inlineCode parentName=\"strong\">{`options: PluginOptions`}</inlineCode></strong>{` - Configuration object for the ServiceWorkerPlugin`}</li>\n    </ul>\n    <p>{`The `}<inlineCode parentName=\"p\">{`PluginOptions`}</inlineCode>{` object contains the following properties:`}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Property`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Type`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Description`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`env`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`EnvironmentObject`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><strong parentName=\"td\">{`Required.`}</strong>{` An object that represents the current environment.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`paths`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`object`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><strong parentName=\"td\">{`Required.`}</strong>{` Map of important project locations. Must at least contain a `}<inlineCode parentName=\"td\">{`root`}</inlineCode>{` property set to the context (root directory) of the project.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`enableServiceWorkerDebugging`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`boolean`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Toggles service worker debugging.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`serviceWorkerFilename`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`string`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><strong parentName=\"td\">{`Required.`}</strong>{` The name of the ServiceWorker file this project creates.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`runtimeCacheAssetPath`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`string`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`A remote URL or root path to assets the ServiceWorker should cache during runtime.`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <p>{`The `}<inlineCode parentName=\"p\">{`EnvironmentObject`}</inlineCode>{` contains the following properties:`}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Property`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Type`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Description`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`mode`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`string`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Must be `}<strong parentName=\"td\">{`development`}</strong>{` or `}<strong parentName=\"td\">{`production`}</strong>{`.`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <h2 {...{\n      \"id\": \"example\"\n    }}>{`Example`}</h2>\n    <p>{`In `}<inlineCode parentName=\"p\">{`webpack.config.js`}</inlineCode>{`:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`const path = require(\"path\");\nconst buildpack = require(\"@magento/pwa-buildpack\");\nconst ServiceWorkerPlugin = buildpack.Webpack.ServiceWorkerPlugin;\n\nmodule.exports = async (env) => {\n  const config = {\n    /* webpack config, i.e. entry, output, etc. */\n    plugins: [\n      /* other plugins */\n      new ServiceWorkerPlugin({\n        env: {\n          mode: \"development\",\n        },\n\n        paths: {\n          output: path.resolve(__dirname, \"web\"),\n        },\n        enableServiceWorkerDebugging: true,\n        serviceWorkerFileName: \"sw.js\",\n        runtimeCacheAssetPath: \"https://cdn.url\",\n      }),\n    ],\n  };\n\n  return config;\n};\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"service-worker-debugging\"\n    }}>{`Service worker debugging`}</h2>\n    <p>{`When `}<inlineCode parentName=\"p\">{`PluginOptions.enableServiceWorkerDebugging`}</inlineCode>{` is set to `}<inlineCode parentName=\"p\">{`true`}</inlineCode>{`, hot reloading is enabled and the ServiceWorker is active in the document root.`}</p>\n    <p>{`When this value is set to `}<inlineCode parentName=\"p\">{`false`}</inlineCode>{`, the ServiceWorker is disabled to prevent cache interruptions when hot reloading assets.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}
"use strict";(self.webpackChunkcommerce_pwa_studio=self.webpackChunkcommerce_pwa_studio||[]).push([[7368],{90393:function(e,n,o){o.r(n),o.d(n,{_frontmatter:function(){return p},default:function(){return u}});var t,a=o(87462),s=o(63366),l=(o(15007),o(64983)),d=o(91515),r=["components"],p={},m=(t="InlineAlert",function(e){return console.warn("Component "+t+" was not imported, exported, or provided by MDXProvider as global scope"),(0,l.mdx)("div",e)}),i={_frontmatter:p},c=d.Z;function u(e){var n=e.components,o=(0,s.Z)(e,r);return(0,l.mdx)(c,(0,a.Z)({},i,o,{components:n,mdxType:"MDXLayout"}),(0,l.mdx)("h1",{id:"enable-sass-or-less-support"},"Enable SASS or LESS support"),(0,l.mdx)("p",null,"This tutorial provides the steps to enable SASS or LESS support in your storefront project.\nUse these Webpack configurations to add support for SASS and LESS alongside ",(0,l.mdx)("a",{parentName:"p",href:"/guides/general-concepts/css-modules/"},"CSS Modules"),"."),(0,l.mdx)(m,{variant:"help",slots:"text",mdxType:"InlineAlert"}),(0,l.mdx)("p",null,"PWA Studio uses Webpack 4. Ensure that any packages you use are compatible with Webpack 4."),(0,l.mdx)("h2",{id:"add-sass-support"},"Add SASS support"),(0,l.mdx)("h3",{id:"step-1-install-dependencies"},"Step 1. Install dependencies"),(0,l.mdx)("p",null,"Use a package manager, such as ",(0,l.mdx)("inlineCode",{parentName:"p"},"yarn")," or ",(0,l.mdx)("inlineCode",{parentName:"p"},"npm"),", to install the SASS loader as a dev dependency."),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-sh"},"yarn add --dev sass-loader@10.1.1 node-sass\n")),(0,l.mdx)("h3",{id:"step-2-modify-the-webpack-configuration"},"Step 2. Modify the Webpack configuration"),(0,l.mdx)("p",null,"Edit ",(0,l.mdx)("inlineCode",{parentName:"p"},"webpack.config.js")," and add a new ",(0,l.mdx)("inlineCode",{parentName:"p"},"config")," rule entry:"),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-diff"},"\n    config.plugins = [\n        ...config.plugins,\n        new DefinePlugin({\n            /**\n             * Make sure to add the same constants to\n             * the globals object in jest.config.js.\n             */\n            POSSIBLE_TYPES: JSON.stringify(possibleTypes),\n            STORE_NAME: JSON.stringify('Venia')\n        }),\n        new HTMLWebpackPlugin({\n            filename: 'index.html',\n            template: './template.html',\n            minify: {\n                collapseWhitespace: true,\n                removeComments: true\n            }\n        })\n    ];\n+\n+   config.module.rules.push({\n+       test: /\\.s[ca]ss$/,\n+       use: [\n+           'style-loader',\n+           {\n+               loader: 'css-loader',\n+               options: {\n+                   modules: true,\n+                   sourceMap: true,\n+                   localIdentName: '[name]-[local]-[hash:base64:3]'\n+               }\n+           },\n+           'sass-loader'\n+       ]\n+   });\n")),(0,l.mdx)("h3",{id:"step-3-create-a-sass-file-and-import-it-in-a-component"},"Step 3. Create a SASS file and import it in a component"),(0,l.mdx)("p",null,"Create the ",(0,l.mdx)("inlineCode",{parentName:"p"},"myComponent.scss")," file:"),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-scss"},"$button-color: #ff495b;\n$button-color-hover: #ff9c1a;\n\n.root {\n  padding: 15px;\n}\n\n.button {\n  color: $button-color;\n\n  &:hover {\n    color: $button-color-hover;\n  }\n}\n")),(0,l.mdx)("p",null,"Create a component and import the SASS file:"),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-jsx"},'import React from "react";\nimport defaultClasses from "./myComponent.scss";\n\nconst MyComponent = () => (\n  <div className={defaultClasses.root}>\n    <button className={defaultClasses.button}>My Component</button>\n  </div>\n);\n\nexport default MyComponent;\n')),(0,l.mdx)("h2",{id:"add-less-support"},"Add LESS support"),(0,l.mdx)("h3",{id:"step-1-install-dependencies-1"},"Step 1. Install dependencies"),(0,l.mdx)("p",null,"Use a package manager, such as ",(0,l.mdx)("inlineCode",{parentName:"p"},"yarn")," or ",(0,l.mdx)("inlineCode",{parentName:"p"},"npm"),", to install the LESS loader as a dev dependency."),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-sh"},"yarn add --dev less-loader less\n")),(0,l.mdx)("h3",{id:"step-2-modify-the-webpack-configuration-1"},"Step 2. Modify the Webpack configuration"),(0,l.mdx)("p",null,"Edit ",(0,l.mdx)("inlineCode",{parentName:"p"},"webpack.config.js")," and add a new ",(0,l.mdx)("inlineCode",{parentName:"p"},"config")," rule entry:"),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-diff"},"\n    config.plugins = [\n        ...config.plugins,\n        new DefinePlugin({\n            /**\n             * Make sure to add the same constants to\n             * the globals object in jest.config.js.\n             */\n            POSSIBLE_TYPES: JSON.stringify(possibleTypes),\n            STORE_NAME: JSON.stringify('Venia')\n        }),\n        new HTMLWebpackPlugin({\n            filename: 'index.html',\n            template: './template.html',\n            minify: {\n                collapseWhitespace: true,\n                removeComments: true\n            }\n        })\n    ];\n+\n+   config.module.rules.push({\n+       test: /\\.less$/,\n+       use: [\n+           'style-loader',\n+           {\n+               loader: 'css-loader',\n+               options: {\n+                   modules: true,\n+                   sourceMap: true,\n+                   localIdentName: '[name]-[local]-[hash:base64:3]'\n+               }\n+           },\n+           'less-loader'\n+       ]\n+   });\n")),(0,l.mdx)("h3",{id:"step-3-create-a-less-file-and-import-it-on-your-component"},"Step 3. Create a LESS file and import it on your component"),(0,l.mdx)("p",null,"Create the ",(0,l.mdx)("inlineCode",{parentName:"p"},"myComponent.less")," file:"),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-less"},"@button-color: #ff495b;\n@button-color-hover: #ff9c1a;\n\n.root {\n  padding: 15px;\n}\n\n.button {\n  color: @button-color;\n\n  &:hover {\n    color: @button-color-hover;\n  }\n}\n")),(0,l.mdx)("p",null,"Create a component and import the LESS file:"),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-jsx"},'import React from "react";\nimport defaultClasses from "./myComponent.less";\n\nconst MyComponent = () => (\n  <div className={defaultClasses.root}>\n    <button className={defaultClasses.button}>My Component</button>\n  </div>\n);\n\nexport default MyComponent;\n')))}u.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-tutorials-basic-modifications-enable-sass-less-index-md-52a6b13b2d0b9b5cba16.js.map
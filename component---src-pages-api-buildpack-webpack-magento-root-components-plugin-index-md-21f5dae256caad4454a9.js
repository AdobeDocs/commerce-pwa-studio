"use strict";(self.webpackChunkcommerce_pwa_studio=self.webpackChunkcommerce_pwa_studio||[]).push([[2531],{67011:function(n,e,o){o.r(e),o.d(e,{_frontmatter:function(){return s},default:function(){return d}});var a=o(87462),t=o(45987),p=(o(15007),o(64983)),i=o(91515);const m=["components"],s={},r={_frontmatter:s},u=i.Z;function d(n){let{components:e}=n,o=(0,t.Z)(n,m);return(0,p.mdx)(u,(0,a.Z)({},r,o,{components:e,mdxType:"MDXLayout"}),(0,p.mdx)("h1",{id:"magento-root-components-plugin"},"Magento root components plugin"),(0,p.mdx)("p",null,"This plugin creates ",(0,p.mdx)("a",{parentName:"p",href:"https://webpack.js.org/guides/code-splitting/"},"unique chunks")," for each Root Component in a Magento PWA project and extension."),(0,p.mdx)("h2",{id:"example"},"Example"),(0,p.mdx)("p",null,"Given a ",(0,p.mdx)("inlineCode",{parentName:"p"},"RootComponents")," directory in a PWA project with the following structure:"),(0,p.mdx)("pre",null,(0,p.mdx)("code",{parentName:"pre",className:"language-sh"},"├── Page1\n│   └── index.js\n├── Page2\n│   └── index.js\n└── Page3\n    └── index.js\n")),(0,p.mdx)("p",null,"This plugin creates unique chunks for ",(0,p.mdx)("inlineCode",{parentName:"p"},"Page1"),", ",(0,p.mdx)("inlineCode",{parentName:"p"},"Page2"),", and ",(0,p.mdx)("inlineCode",{parentName:"p"},"Page3"),".\nFurther webpack optimization techniques, such as ",(0,p.mdx)("a",{parentName:"p",href:"https://webpack.js.org/plugins/commons-chunk-plugin/"},(0,p.mdx)("inlineCode",{parentName:"a"},"CommonsChunkPlugin")),", can be applied if needed."),(0,p.mdx)("h2",{id:"example-usage"},"Example usage"),(0,p.mdx)("pre",null,(0,p.mdx)("code",{parentName:"pre",className:"language-javascript"},'// webpack.config.js\n\nconst path = require("path");\nconst { MagentoRootComponentsPlugin } = require("@magento/pwa-buildpack");\n\nmodule.exports = {\n  entry: {\n    main: path.join(__dirname, "src"),\n  },\n  output: {\n    path: path.join(__dirname, "dist"),\n    filename: "[name].js",\n    chunkFilename: "[name].chunk.js",\n  },\n  plugins: [\n    new MagentoRootComponentsPlugin({\n      rootComponentsDirs: [path.join(__dirname, "src/RootComponents")], // optional\n      manifestFileName: "roots-manifest.json", // optional\n    }),\n  ],\n};\n')))}d.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-api-buildpack-webpack-magento-root-components-plugin-index-md-21f5dae256caad4454a9.js.map